gedit HelloWorld.java
javac HelloWorld.java
java HelloWorld

/////////////////////////////





===========================================
TCP SERVER – SAY HELLO (LINE-BY-LINE EXPLANATION)
===========================================

import java.io.*;
import java.net.*;
// Import java.io.* for input/output stream classes (DataInputStream, DataOutputStream).
// Import java.net.* for networking classes (ServerSocket, Socket, InetAddress).

public class TCPServer {
    // Defines the TCPServer class.

    public static void main(String[] args) {
        // Main method — program execution starts here.

        int port = 6000;  // Server listens on port 6000
        // Declares the port number the server will bind to and listen on.

        try (ServerSocket serverSocket = new ServerSocket(port)) {
            // Creates a ServerSocket bound to the specified port.
            // The try-with-resources ensures serverSocket is automatically closed when the block ends.
            // If the port is already in use or cannot be bound, an exception will be thrown here.

            System.out.println("TCP Server started on port " + port);
            // Prints a message indicating the server has started.

            System.out.println("Waiting for client...");
            // Prints that the server is ready and waiting for a client to connect.

            Socket socket = serverSocket.accept();
            // Blocks and waits for an incoming client connection.
            // When a client connects, accept() returns a new Socket object for that client.
            // This socket is used to communicate with the connected client.

            System.out.println("Client connected: " + socket.getInetAddress());
            // Prints the remote client's IP address for confirmation.

            // Streams for communication
            DataInputStream dis = new DataInputStream(socket.getInputStream());
            // Wraps the socket's input stream in a DataInputStream to read typed data (e.g., readUTF()).

            DataOutputStream dos = new DataOutputStream(socket.getOutputStream());
            // Wraps the socket's output stream in a DataOutputStream to write typed data (e.g., writeUTF()).

            // Receive hello message from client
            String clientMsg = dis.readUTF();
            // Reads a UTF-8 encoded string sent from the client.
            // readUTF() blocks until data is available. It expects the client to use writeUTF().

            System.out.println("Client says: " + clientMsg);
            // Prints the message received from the client.

            // Send hello reply back
            dos.writeUTF("Hello Client! Connection successful.");
            // Sends a UTF-8 encoded string back to the client using writeUTF().
            // The message is buffered and may be sent immediately or when the stream is flushed/closed.

            // Close everything
            dis.close();
            // Closes the DataInputStream (also closes the underlying socket input stream).

            dos.close();
            // Closes the DataOutputStream (also closes the underlying socket output stream).

            socket.close();
            // Closes the client socket connection.

            System.out.println("Server closing...");
            // Prints message indicating the server finished the interaction and is closing.

        } catch (Exception e) {
            e.printStackTrace();
            // Catches and prints any exception thrown during server setup, accept, or IO operations.
        }
    }
}


===========================================
TCP CLIENT – SAY HELLO (LINE-BY-LINE EXPLANATION)
===========================================

import java.io.*;
import java.net.*;
// Import java.io.* for DataInputStream/DataOutputStream and I/O exceptions.
// Import java.net.* for Socket and networking classes.

public class TCPClient {
    // Declares the TCPClient class.

    public static void main(String[] args) {
        // Main method — entry point for the client program.

        String serverIP = "127.0.0.1";  // Change to server IP if using different machines
        // IP address of the server to connect to.
        // "127.0.0.1" (localhost) is used when server runs on the same machine.

        int port = 6000;
        // Port number that the server is listening on; must match server's port.

        try (Socket socket = new Socket(serverIP, port)) {
            // Creates a new client Socket and attempts to connect to serverIP:port.
            // The try-with-resources ensures the socket will be closed automatically at the end.
            // If connection fails (server not running, wrong IP/port), an exception is thrown here.

            System.out.println("Connected to server.");
            // Prints confirmation that the TCP connection was successfully established.

            // Streams for communication
            DataInputStream dis = new DataInputStream(socket.getInputStream());
            // Wraps the socket input stream to read typed data (readUTF()) from server.

            DataOutputStream dos = new DataOutputStream(socket.getOutputStream());
            // Wraps the socket output stream to send typed data (writeUTF()) to server.

            // Send hello message to server
            dos.writeUTF("Hello Server!");
            // Sends a UTF-8 encoded string to the server; server reads it using readUTF().

            // Receive reply
            String reply = dis.readUTF();
            // Reads the server's UTF-8 encoded reply using readUTF(); blocks until data arrives.

            System.out.println("Server says: " + reply);
            // Prints the reply received from the server.

            // Close everything (socket will be closed automatically by try-with-resources,
            // but streams are closed explicitly if needed)
            dis.close();
            dos.close();
            socket.close();
            // These close calls release resources and terminate the TCP connection.

        } catch (Exception e) {
            e.printStackTrace();
            // Prints exception stack trace if connection or I/O operations fail.
        }
    }
}


////////////////////////////////////////////////////////////////////////////////////





===========================================
STEPS TO RUN TCP SAY-HELLO PROGRAM
ON SAME PC (TWO TERMINALS) AND
ON TWO DIFFERENT PCs (UBUNTU)
===========================================


===========================================
PART 1️⃣ — RUN ON SAME PC (TWO TERMINALS)
===========================================

STEP 1 — OPEN TERMINAL 1 (SERVER)
-------------------------------------------
cd Desktop
# Move to folder containing TCPServer.java

javac TCPServer.java
# Compile the server code

java TCPServer
# Run server
# Output:
# TCP Server started on port 6000
# Waiting for client...


STEP 2 — OPEN TERMINAL 2 (CLIENT)
-------------------------------------------
cd Desktop
# Move to folder containing TCPClient.java

javac TCPClient.java
# Compile client code

java TCPClient
# Run client
# Output:
# Connected to server.
# Server says: Hello Client! Connection successful.


STEP 3 — CHECK TERMINAL 1 AGAIN
-------------------------------------------
# You will see:
# Client connected: /127.0.0.1
# Client says: Hello Server!
# Server closing...


===========================================
PART 2️⃣ — RUN ON TWO DIFFERENT PCs (UBUNTU)
===========================================

REQUIREMENTS:
-------------------------------------------
✔ Both PCs connected to same WiFi/LAN  
✔ Java installed on both  
✔ Firewall allows port 6000  
✔ Server runs FIRST, client second  


STEP 1 — FIND SERVER PC’S IP
-------------------------------------------
On SERVER PC terminal:

ip addr show
# Look for 'inet' under your WiFi/Ethernet adapter
# Example:
# inet 192.168.1.25

THIS IP is needed in client code.


STEP 2 — UPDATE CLIENT CODE
-------------------------------------------
In TCPClient.java, change:

String serverIP = "127.0.0.1";

TO:

String serverIP = "192.168.1.25";
# (Replace with actual server IP from Step 1)


STEP 3 — RUN SERVER ON SERVER PC
-------------------------------------------
cd Desktop
javac TCPServer.java
java TCPServer

# Output:
# TCP Server started on port 6000
# Waiting for client...


STEP 4 — RUN CLIENT ON CLIENT PC
-------------------------------------------
cd Desktop
javac TCPClient.java
java TCPClient

# Output:
# Connected to server.
# Server says: Hello Client! Connection successful.


STEP 5 — CHECK SERVER PC OUTPUT
-------------------------------------------
# Server terminal will show:
# Client connected: /192.168.1.xx
# Client says: Hello Server!
# Server closing...


===========================================
IMPORTANT NOTES
===========================================

✔ Server must ALWAYS start first  
✔ Client must use the correct SERVER IP  
✔ Port should be SAME in both codes (6000)  
✔ For LAN communication:
   - Server IP example: 192.168.1.25
   - Client IP example: 192.168.1.40  
   → Must be in SAME network  

✔ To allow port on Ubuntu firewall:
sudo ufw allow 6000

✔ To check if server is listening:
sudo lsof -i :6000


===========================================
SUMMARY TABLE
===========================================

SAME PC:
-------------------------------------------
Terminal 1 → run TCPServer  
Terminal 2 → run TCPClient  

DIFFERENT PCs:
-------------------------------------------
Server PC → run TCPServer  
Client PC → update IP → run TCPClient  

===========================================




//////////////////////////////////////////////////////////////////////////////////////////////////////




Assignment No: 6
Title: Write a program using TCP socket for "Say Hello" – Client & Server model.  
       Write a program for transferring files as a client-server application.

------------------------------------------------------
1. OBJECTIVE:
------------------------------------------------------
• To implement TCP socket programming for basic communication.
• To create a client-server model where:
  – Client sends a message (“Hello”) to the server.
  – Server responds back.
• To implement a program that transfers files between client and server using TCP.

------------------------------------------------------
2. WHY WE PERFORM THIS PRACTICAL:
------------------------------------------------------
• To understand how communication happens between two systems over TCP.
• To learn the process of establishing a connection (TCP handshake) using sockets.
• To see how data (messages or files) can be sent reliably over the network.
• To gain real-time experience in writing client and server applications.

------------------------------------------------------
3. CONCEPT / THEORY:
------------------------------------------------------

A. **What is TCP Socket Programming?**
• TCP (Transmission Control Protocol) is a reliable, connection-oriented transport protocol.
• Socket programming allows two machines to communicate using IP + Port.
• A TCP socket provides:
  – Reliable delivery  
  – Ordered delivery  
  – Error handling  
  – Acknowledgment mechanism  

B. **TCP Server:**
A typical TCP server performs these steps:
1. **socket()** – Create socket.
2. **bind()** – Attach socket to IP/Port.
3. **listen()** – Wait for client requests.
4. **accept()** – Accept the client.
5. **send()/recv()** – Exchange data.
6. **close()** – Close connection.

C. **TCP Client:**
1. **socket()** – Create socket.
2. **connect()** – Connect to server IP/Port.
3. **send()/recv()** – Exchange data.
4. **close()** – Close connection.

------------------------------------------------------
4. PART 1: "SAY HELLO" CLIENT-SERVER PROGRAM
------------------------------------------------------

A. **Working:**
• The client connects to the server using TCP.
• Client sends a message: “Hello Server”.
• Server receives it and replies with: “Hello Client”.
• Both sides print messages on screen.
• Connection is closed.

B. **Flow:**
Client → sends HELLO → Server  
Server → replies HELLO → Client  

Message exchange occurs over a TCP reliable stream.

------------------------------------------------------
5. PART 2: FILE TRANSFER USING TCP
------------------------------------------------------

A. **Working:**
• A file is present on the server system.
• The client requests the file.
• Server reads the file in binary/text mode.
• Server sends file data as TCP packets.
• Client receives the packets and writes them into a new file.
• Successful file transfer is displayed.

B. **How Files Are Sent Using Socket:**
1. Open file (server side): `fopen()` or fileInputStream
2. Read file in chunks (buffer)
3. Send each chunk using `send()`
4. Client receives each chunk using `recv()`
5. Write the data to a new file
6. Close file + close connection

C. **Advantages of Using TCP for File Transfer:**
• No data loss  
• Proper ordering of packets  
• Error checking  
• Reliable connection  

------------------------------------------------------
6. TCP SOCKET FUNCTIONS USED:
------------------------------------------------------
• **socket()** – Creates socket  
• **bind()** – Binds socket to port  
• **listen()** – Waits for client  
• **accept()** – Accept client request  
• **connect()** – Client connects to server  
• **send()** – Sends data  
• **recv()** – Receives data  
• **close()** – Closes connection  

------------------------------------------------------
7. OUTPUT / EXPECTED RESULT:
------------------------------------------------------

A. For SAY HELLO:
• Server shows:
  “Client connected”
  “Received from client: Hello Server”
• Client shows:
  “Received from server: Hello Client”

B. For File Transfer:
• Client shows:
  “File received successfully”
• Server shows:
  “File sent successfully”
• A duplicate copy of the file appears on the client side.

------------------------------------------------------
8. CONCEPTS USED:
------------------------------------------------------
• TCP Connection Establishment (3-way handshake)
• Client-Server communication model
• Socket programming (send/recv)
• File handling and byte streaming
• Reliable data transfer

------------------------------------------------------
9. OUTCOME:
------------------------------------------------------
• Students understood how TCP establishes a connection between client and server.
• Learned how to send normal text messages over network sockets.
• Successfully implemented file transfer using TCP.
• Gained practical experience with real communication programs.

------------------------------------------------------
10. CONCLUSION:
------------------------------------------------------
We successfully developed TCP-based client-server applications for:
• Exchanging simple messages ("Say Hello")  
• Transferring files reliably  

This practical demonstrated the reliability of TCP for data communication and file exchange across a network.
